<!DOCTYPE html>
<html lang="{{ @this->lang() }}">
<head>
	<include href="blocks/head.html" />
</head>
<body>
<div class="container">
	<include href="blocks/navbar.html" />

	<ul class="nav nav-tabs" role="tablist">
		<li role="presentation" class="active">
			<a href="#tab-users" aria-controls="tab-users" role="tab" data-toggle="tab">{{ @dict.users }}</a>
		</li>
		<li role="presentation">
			<a href="#tab-issues" aria-controls="tab-issues" role="tab" data-toggle="tab">{{ @dict.issues }}</a>
		</li>
	</ul>

	<div class="tab-content">
		<div role="tabpanel" class="tab-pane fade in active" id="tab-users">
			<h3>Averages</h3>
			<div class="row">
				<div class="col-md-3 col-sm-6">
					<div class="well well-sm text-center">
						<h4>{{ @dict.created_issues }}</h4>
						<h2>{{ number_format(@user_avg_created, 2) }}</h2>
					</div>
				</div>
				<div class="col-md-3 col-sm-6">
					<div class="well well-sm text-center">
						<h4>Comments</h4>
						<h2>{{ number_format(@user_avg_comments, 2) }}</h2>
					</div>
				</div>
				<div class="col-md-3 col-sm-6">
					<div class="well well-sm text-center">
						<h4>Updates</h4>
						<h2>{{ number_format(@user_avg_updates, 2) }}</h2>
					</div>
				</div>
				<div class="col-md-3 col-sm-6">
					<div class="well well-sm text-center">
						<h4>{{ @dict.cols.hours_spent }}</h4>
						<h2>{{ number_format(@user_avg_hours_spent, 2) }}</h2>
					</div>
				</div>
			</div>

			<h3>Top Users</h3>
			<div class="row">
				<div class="col-md-3">
					<h4>{{ @dict.created_issues }}</h4>
					<div class="table-responsive">
						<table class="table table-condensed table-striped">
							<thead>
								<tr>
									<th>{{ @dict.name }}</th>
									<th>Count</th>
								</tr>
							</thead>
							<tbody>
								<repeat group="{{ @user_created }}" value="{{ @row }}">
									<tr>
										<td>{{ @row.name }}</td>
										<td>{{ @row.num }}</td>
									</tr>
								</repeat>
							</tbody>
						</table>
					</div>
				</div>
				<div class="col-md-3">
					<h4>Closed Issues</h4>
					<div class="table-responsive">
						<table class="table table-condensed table-striped">
							<thead>
								<tr>
									<th>{{ @dict.name }}</th>
									<th>Count</th>
								</tr>
							</thead>
							<tbody>
								<repeat group="{{ @user_closed }}" value="{{ @row }}">
									<tr>
										<td>{{ @row.name }}</td>
										<td>{{ @row.num }}</td>
									</tr>
								</repeat>
							</tbody>
						</table>
					</div>
				</div>
				<div class="col-md-3">
					<h4>Issue Updates</h4>
					<div class="table-responsive">
						<table class="table table-condensed table-striped">
							<thead>
								<tr>
									<th>{{ @dict.name }}</th>
									<th>Count</th>
								</tr>
							</thead>
							<tbody>
								<repeat group="{{ @user_updates }}" value="{{ @row }}">
									<tr>
										<td>{{ @row.name }}</td>
										<td>{{ @row.num }}</td>
									</tr>
								</repeat>
							</tbody>
						</table>
					</div>
				</div>
				<div class="col-md-3">
					<h4>{{ @dict.cols.hours_spent }}</h4>
					<div class="table-responsive">
						<table class="table table-condensed table-striped">
							<thead>
								<tr>
									<th>{{ @dict.name }}</th>
									<th>Hours</th>
								</tr>
							</thead>
							<tbody>
								<repeat group="{{ @user_hours }}" value="{{ @row }}">
									<tr>
										<td>{{ @row.name }}</td>
										<td>{{ round(@row.num, 2) }}</td>
									</tr>
								</repeat>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>

		<div role="tabpanel" class="tab-pane fade" id="tab-issues">
			<div class="row">
				<div class="col-sm-4">
					<div class="well well-sm text-center">
						<h4>Total Hours Spent</h4>
						<h2>{{ number_format(@issues_total_hours_spent, 2) }}</h2>
					</div>
				</div>
				<div class="col-sm-4">
					<div class="well well-sm text-center">
						<h4>Average Hours Spent</h4>
						<h2>{{ number_format(@issues_avg_hours_spent, 2) }}</h2>
					</div>
				</div>
				<div class="col-sm-4">
					<div class="well well-sm text-center">
						<h4>Total Closed</h4>
						<h2>{{ @issues_total_closed }}</h2>
					</div>
				</div>
			</div>

			<div class="row">
				<div class="col-md-4">
					<h3>Most Comments</h3>
					<div class="table-responsive">
						<table class="table table-condensed table-striped">
							<thead>
								<tr>
									<th>{{ @dict.name }}</th>
									<th>Count</th>
								</tr>
							</thead>
							<tbody>
								<repeat group="{{ @top_issue_comments }}" value="{{ @row }}">
									<tr ondblclick="window.location='{{ @BASE }}/issues/{{ @row.id }}';">
										<td>{{ @row.name }}</td>
										<td>{{ @row.num }}</td>
									</tr>
								</repeat>
							</tbody>
						</table>
					</div>
				</div>
				<div class="col-md-4">
					<h3>Most Updates</h3>
					<div class="table-responsive">
						<table class="table table-condensed table-striped">
							<thead>
								<tr>
									<th>{{ @dict.name }}</th>
									<th>Count</th>
								</tr>
							</thead>
							<tbody>
								<repeat group="{{ @top_issue_updates }}" value="{{ @row }}">
									<tr ondblclick="window.location='{{ @BASE }}/issues/{{ @row.id }}';">
										<td>{{ @row.name }}</td>
										<td>{{ @row.num }}</td>
									</tr>
								</repeat>
							</tbody>
						</table>
					</div>
				</div>
				<div class="col-md-4">
					<h3>Hours Spent</h3>
					<div class="table-responsive">
						<table class="table table-condensed table-striped">
							<thead>
								<tr>
									<th>{{ @dict.name }}</th>
									<th>Hours</th>
								</tr>
							</thead>
							<tbody>
								<repeat group="{{ @top_issue_hours }}" value="{{ @row }}">
									<tr ondblclick="window.location='{{ @BASE }}/issues/{{ @row.id }}';">
										<td>{{ @row.name }}</td>
										<td>{{ round(@row.num, 2) }}</td>
									</tr>
								</repeat>
							</tbody>
						</table>
					</div>
				</div>
			</div>
		</div>
	</div>

	<include href="blocks/footer.html" />
</div>
</body>
</html>
